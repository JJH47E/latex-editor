; TECkit mapping for ITRANS input scheme for writing Unicode Kannada (0C80-0CFF)
; by Abhinandan S.P. <abhinandan.sp@iiitb.net> and Shrisha Rao <shrao@acm.org>,
; based on harvardkyoto.map written by Daniel Stender.
;
; Updated 2014-09-01

LHSName "itrans-sankan"
RHSName "Unicode"
LHSDescription "Devanagari-ITRANS input method for Unicode Kannada"
Version "3.00"

Define dot U+002E

Define a U+0061
Define A U+0041
Define i U+0069
Define I U+0049
Define u U+0075
Define U U+0055
Define R U+0052
Define L U+004C

Define e U+0065
Define E U+0045
Define o U+006F
Define H U+0048

Define k U+006B
Define h U+0068
Define g U+0067
Define G U+0047

Define c U+0063
Define C U+0043  
Define j U+006A
Define J U+004A

Define T U+0054
Define D U+0044
Define N U+004E

Define t U+0074
Define d U+0064
Define n U+006E

Define p U+0070
Define b U+0062
Define m U+006D

Define y U+0079
Define r U+0072
Define l U+006C
Define v U+0076
Define w U+0077

Define z U+007A
Define S U+0053
Define s U+0073
Define Y U+0059
Define O U+004F

Define anudatta U+002D	; -
Define svarita U+0021	; !
Define tlde    U+007E
Define cret    U+005E   
Define M U+004D

Define q U+0071
Define f U+0066
Define x U+0078

Define zwj U+200D
Define zwn U+200C

Define anunasika U+0901
Define anusvara	U+0C82
Define visarga	U+0C83

Define asvara	U+0C85
Define Asvara	U+0C86
Define isvara	U+0C87
Define Isvara	U+0C88
Define usvara	U+0C89
Define Usvara	U+0C8A
Define rvoc	U+0C8B
Define Rvoc	U+0CE0
Define lvoc	U+0C8C
Define Lvoc     U+0CE1
Define Esvara   U+0C8F
Define aisvara	U+0C90
Define Osvara   U+0C93
Define ausvara	U+0C94

Define Amatra	U+0CBE
Define imatra	U+0CBF
Define Imatra	U+0CC0
Define umatra	U+0CC1
Define Umatra	U+0CC2
Define rmatra	U+0CC3
Define Rmatra	U+0CC4
Define lmatra	U+0CE2
Define Lmatra   U+0CE3
Define Ematra   U+0CC7
Define aimatra	U+0CC8
Define Omatra   U+0CCB
Define aumatra	U+0CCC

Define ka	U+0C95
Define kha	U+0C96
Define ga	U+0C97
Define gha	U+0C98
Define Ga	U+0C99
Define cha	U+0C9A
Define Cha	U+0C9B
Define ja	U+0C9C
Define jha	U+0C9D
Define Ja	U+0C9E
Define Ta	U+0C9F
Define Tha	U+0CA0
Define Da	U+0CA1
Define Dha	U+0CA2
Define Na	U+0CA3
Define ta	U+0CA4
Define tha	U+0CA5
Define da	U+0CA6
Define dha	U+0CA7
Define na	U+0CA8
Define pa	U+0CAA
Define pha	U+0CAB
Define ba	U+0CAC
Define bha	U+0CAD
Define ma	U+0CAE
Define ya	U+0CAF
Define ra	U+0CB0
Define la	U+0CB2
Define va	U+0CB5
Define wa       U+0CB5
Define sha	U+0CB6
Define Sha	U+0CB7
Define sa	U+0CB8
Define ha	U+0CB9

Define rla	U+0CB3

Define danda	U+0964
Define ddanda	U+0965
Define virama	U+0CCD
Define avagraha	U+0CBD
Define lcb      U+007B
Define rcb      U+007D
Define zero     U+0CE6
Define cbindu   U+0901
Define ksha     ka virama Sha
Define knukta   ka U+0CBC


pass(Unicode)

a > asvara
a a > Asvara
A > Asvara
i > isvara
i i > Isvara
I > Isvara
u > usvara
u u > Usvara
U > Usvara
R R i > rvoc
R cret i > rvoc
R R I > Rvoc
R cret I > Rvoc
L L i > lvoc
L cret i > lvoc
L L I > Lvoc
L cret I > Lvoc

e > Esvara

a i > aisvara
o > Osvara
o o > Osvara
O > Osvara
a u > ausvara
a m s > U+0CE6 sa
k > ka
k h > kha
k dot h > ka virama
k x > ka virama zwn ksha
k h dot h > kha virama
k h x > kha virama zwn ksha
g > ga
g dot h > ga virama
g x > ga virama zwn ksha
g a dot n > ga anusvara
g h > gha
g h dot h > gha virama
g h x > gha virama zwn ksha
tlde N  > Ga
N cret  > Ga
G G > Ga
tlde N dot h > Ga virama
N cret dot h > Ga virama
tlde N x > Ga virama zwn ksha
N cret dot h > Ga virama
N cret x > zero zwn ksha
N cret g > zero zwn ga
N cret g h > zero zwn gha
n g > na virama ga
c h > cha
c h h > Cha
c h dot h > cha virama
c h x > cha virama zwn ksha
c h h x > Cha virama zwn ksha
C h > Cha
C h x > Cha virama zwn ksha
C h dot h > Cha virama
c h h dot h > Cha virama
j > ja 
j dot h > ja virama
j x > ja virama zwn ksha
j h > jha
j h x > jha virama zwn ksha
j h dot h > jha virama
tlde n a > Ja
tlde n > Ja
tlde n x > Ja virama zwn ksha
tlde n dot h > Ja virama
J N > Ja
J N x > Ja virama zwn ksha
T > Ta
T x > Ta virama zwn ksha
T dot h > Ta virama
T h > Tha
T h dot h > Tha virama
T h x > Tha virama zwn ksha
D > Da
D x > Da virama zwn ksha
D dot h > Da virama
D h > Dha
D h dot h > Dha virama
D h x > Dha virama zwn ksha
N > Na
N dot h > Na virama
N x > Na virama zwn ksha
N N > Na virama Na
t > ta
t dot h > ta virama
t x > ta virama zwn ksha
t h > tha
t h x > tha virama zwn ksha
t h dot h > tha virama
d > da
d x > da virama zwn ksha
d dot h > da virama
d h > dha
d h x > dha virama zwn ksha
d h dot h > dha virama
n > na
n x > na virama zwn ksha
n dot h > na virama
p > pa
p x > pa virama zwn ksha
p dot h > pa virama
p h > pha
p h x > pha virama zwn ksha
p h dot h > pha virama
b > ba
b x > ba virama zwn ksha
b dot h > ba virama
b h > bha
b h x > bha virama zwn ksha
b h dot h > bha virama
m > ma
m dot h > ma virama
m x > ma virama zwn ksha
y > ya
y dot h > ya virama
y x > ya virama zwn ksha
r > ra
r x > ra virama zwn ksha
r dot h > ra virama
l > la
l x > la virama zwn ksha
L > rla
L x > rla virama zwn ksha
l dot h > la virama
L dot h > rla virama
v > va
v x > va virama zwn ksha
v dot h > va virama
w > wa
w x > va virama zwn ksha
w dot h > wa virama
s h > sha
s h x > sha virama zwn ksha
s h dot h > sha virama
s h h > Sha
s h h x > Sha virama zwn ksha
s h h dot h > Sha virama
S h > Sha
S h x > Sha virama zwn ksha
S h dot h > Sha virama
s > sa
s x > sa virama zwn ksha
s dot h > sa virama
h > ha
h x > ha virama zwn ksha
h dot h > ha virama
N cret x > zero ksha
x > ksha
x dot h > ksha virama
k S h > ksha
k S h dot h > ksha virama
G Y > ja virama Ja
j tlde n > ja virama Ja
v a cret cret r > va ra virama
m lcb rcb > ma virama
lcb rcb > zwn


dot m > anunasika
q > knukta

U+004D > anusvara
U+0029 M > U+0029 U+0CE6
dot a M > avagraha zero
dot n > anusvara
U+0048 > visarga
dot a > avagraha
dot a lcb rcb > avagraha
dot a N cret > avagraha U+0CE6

U+002C > virama
dot N > na

U+002F dot > dot
U+007C > danda
U+007C U+007C > ddanda
U+002D > U+002D
U+005C dot > dot
U+0022 > U+201D
U+0027 > U+0027
U+0028 > U+0028
U+0029 > U+0029
U+0060 > U+2018
U+0060 U+0060 > U+201C

U+0030	> U+0CE6	; Numerals
U+0031	> U+0CE7
U+0032	> U+0CE8
U+0033	> U+0CE9
U+0034	> U+0CEA
U+0035	> U+0CEB
U+0036	> U+0CEC
U+0037	> U+0CED
U+0038	> U+0CEE
U+0039	> U+0CEF

pass(Unicode)

UniClass [vyanjana] = (ka..dha pha..ba ra..la)
UniClass [mvyanjana] = (pa ba bha)

UniClass [svara] = (Asvara isvara Isvara usvara Usvara rvoc Rvoc lvoc Esvara aisvara Osvara ausvara)
UniClass [matra] = (Amatra imatra Imatra umatra Umatra rmatra Rmatra lmatra Ematra aimatra Omatra aumatra)
UniClass [naletter] = (na)
UniClass [anusvaraletter] = (zero)
UniClass [avaletter] = (avagraha)
UniClass [maletter] = (ma)
UniClass [Naletter] = (Na)
UniClass [galetter] = (Ga)
UniClass [jaletter] = (Ja)
UniClass [osvaraletter] = (Osvara)
UniClass [omatra] = (Omatra)

UniClass [vletter] = (virama)

[naletter] [vyanjana] > [anusvaraletter] [vyanjana]
[maletter] [mvyanjana] > [anusvaraletter] [mvyanjana]
[maletter] [maletter] [osvaraletter] > [anusvaraletter] [maletter] [omatra]
[galetter] [vyanjana] > [anusvaraletter] [vyanjana]
[jaletter] [vyanjana] > [anusvaraletter] [vyanjana]
[Naletter] [vyanjana] > [anusvaraletter] [vyanjana]
[anusvaraletter] [vyanjana] [svara] > [anusvaraletter] [vyanjana][matra]

pass(Unicode)

UniClass [vyanjana] = (ka .. ha rla)
UniClass [svara] = (Asvara isvara Isvara usvara Usvara rvoc Rvoc lvoc Esvara aisvara Osvara ausvara)
UniClass [matra] = (Amatra imatra Imatra umatra Umatra rmatra Rmatra lmatra Ematra aimatra Omatra aumatra)
[vyanjana] [svara] > [vyanjana] [matra]


pass(Unicode)

UniClass [vyanjana] = (ka .. ha)
[vyanjana]=v1 [vyanjana]=v2 > @v1 virama @v2

pass(Unicode)

UniClass [vyanjana] = (ka .. ha)
[vyanjana]=v1 [vyanjana]=v2 > @v1 virama @v2

;; In this mapping, target language is kannada and generally Kannada words does not
;; end with virama. Also, this causes buggy output in Kannada. Hence, commenting fourth pass
;; Fourth pass: making remaining conjuncts (for groups of two or more consonants)
;; and adding viramas to the end of the words in Sanskrit

;;pass (Unicode)

;; Classes
;;UniClass [vyanjana] = (ka .. ha rla)
;;UniClass [spacepunct] = (U+0009 .. U+0040 U+005B .. U+0060 U+007B .. U+007D danda ddanda \
;;    U+2013 U+2014 U+2018 U+2019 U+201C U+201D)

;;[vyanjana]=v1 [vyanjana]=v2 <> @v1 virama @v2
;;[vyanjana] / _ [spacepunct] <> [vyanjana] virama / _ [spacepunct]
;;[vyanjana] / _ # <> [vyanjana] virama / _ #

pass(Unicode)

Uniclass [vyanjana] = (ka .. ha rla)
[vyanjana] asvara > [vyanjana]
